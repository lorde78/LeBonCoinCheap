{% extends 'base.html.twig' %}

{% block content %}

	<section class="section_single_product">
		<div class="section_single_product_left">
			<div class="section_single_product_left_single">
				<img src="{{ article.pictures[0] }}" alt="">
			</div>
			<div class="section_single_product_left_multiple">
				<img src="{{ article.pictures[0] }}" alt="">
				<img src="{{ article.pictures[0] }}" alt="">
				<img src="{{ article.pictures[0] }}" alt="">
				<img src="{{ article.pictures[0] }}" alt="">
			</div>
		</div>
		<div class="section_single_product_right">
			<div class="produit_single_spec">
				<div class="produit_single_title">
					<h3>{{ article.title }}</h3>
					<span class="produit_single_tag">{{ article.idTag.name }}</span>
				</div>
				<div class="produit_single_details">
					<span>Lieu : Saint-Lô</span>
					<span>Année : 2015
					</span>
					<span>Kilométrage : 170500 km</span>
					<span>Type : Diesel</span>
				</div>
				<span class="produit_single_price">{{ article.price }}
					€</span>
				<span class="produit_single_date">{{ article.createdAt|date('d-m-Y H:i:s')}}
					par
					<a href="">{{ article.idUser.nickName }}</a>
				</span>
				<span class="produit_single_description">
					Description :<br><br>{{ article.description }}
				</span>
			</div>
		</div>
	</section>
	<div class="section_qa">
		<div class="section_qa_heading">
			<img src="/images/beforetitle.png" alt="">
			<h4>QA</h4>
		</div>
		<div>
			{% for question in questions %}
				<div class="question" data-questionid="{{ question.id }}">
					<div class="question_user">
						<img src="{{ question.idUSer.avatar}} " height="50x" width="50px" loading="lazy">
						<span>
							{{ question.idUSer.nickName}}
						</span>
					</div>
					<div class="question_user_question">
						"
						{{ question.question }}
						"
					</div>
					<div class="question_user_published">Publié le :
						{{ question.createdAt|date('d-m-Y H:i:s')}}
					</div>
				</div>
			</div>
			<div class="reponse_wrapper">
				{% for answer in question.answers %}
					<div class="reponse" data-answerid="{{ answer.id }}">
						<div class="reponse_user">
							<img src="{{ answer.idUSer.avatar}} " height="50x" width="50px" loading="lazy">
							<span>
								{{ answer.idUSer.nickName}}
							</span>
						</div>
						<div class="reponse_user_reponse_wrapper">
							<div class="reponse_user_reponse">
								"
								{{ answer.answer }}
								"
							</div>
							<div class="js-vote-answer">
								<button class="js-vote-up" data-direction="up" data-id="{{ answer.id }}">
									<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="#245471" class="w-6 h-6">
										<path d="M7.493 18.75c-.425 0-.82-.236-.975-.632A7.48 7.48 0 016 15.375c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75 2.25 2.25 0 012.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23h-.777zM2.331 10.977a11.969 11.969 0 00-.831 4.398 12 12 0 00.52 3.507c.26.85 1.084 1.368 1.973 1.368H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 01-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227z"/>
									</svg>
								</button>
								<span class="total-vote">0</span>
								<button class="js-vote-down" data-direction="down" data-id="{{ answer.id}}">
									<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="#245471" class="w-6 h-6">
										<path d="M15.73 5.25h1.035A7.465 7.465 0 0118 9.375a7.465 7.465 0 01-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 01-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.498 4.498 0 00-.322 1.672V21a.75.75 0 01-.75.75 2.25 2.25 0 01-2.25-2.25c0-1.152.26-2.243.723-3.218C7.74 15.724 7.366 15 6.748 15H3.622c-1.026 0-1.945-.694-2.054-1.715A12.134 12.134 0 011.5 12c0-2.848.992-5.464 2.649-7.521.388-.482.987-.729 1.605-.729H9.77a4.5 4.5 0 011.423.23l3.114 1.04a4.5 4.5 0 001.423.23zM21.669 13.773c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.959 8.959 0 01-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227z"/>
									</svg>
								</button>
								<span class="js-vote-article-total"></span>
							</div>
						</div>
						<div class="reponse_user_published">
							Publié le :
							{{ answer.createdAt|date('d-m-Y H:i:s')}}
						</div>
					</div>
				{% endfor %}
			</div>
		{% endfor %}
	</div>

{% endblock %}

{# afficher la variable article
	<div class="js-vote-article">
		<button data-direction="like" data-id="{{ article.id }}"> Mettre une icône de Like </button>
		<button data-direction="dislike" data-id="{{ article.id}}">Mettre une icône de dislike</button>
		<span class="js-vote-article-total"></span>
	</div>
#}

{# {% block content %}
	<div class="produit">
		<img src="{{ article.pictures[0] }}" alt="">
		<div class="produit_card_tag">
			{{ article.idTag.name }}
		</div>
		<div class="produit_card_spec">
			<h3>{{ article.title }}</h3>
			<div class="produit_card_detail">
				<span>Saint-Lô -</span>
				<span>2015 -</span>
				<span>170500 km -</span>
				<span>Diesel</span>
			</div>
			<span class="produit_card_price">{{ article.price }}
						€</span>
			<span class="produit_card_date">{{ article.createdAt|date('d-m-Y H:i:s')}}
						par
						<a href="">{{ article.idUser.nickName }}</a>
					</span>

			<a href="{{ '/' ~ 'articles' ~ '/' ~  article.idTag.name ~ '/' ~ article.id}}" class="btn_read_more">
				<span>Lire plus</span>
			</a>
		</div>
	</div>



	{% for question in questions %}
		<h5>Question:</h5>
		<div class="question ml-1" data-questionid="{{ question.id }}">
			<img src="{{ question.idUSer.avatar}} " height="50x" width="50px" loading="lazy">
			<p>Publié le: {{ question.createdAt|date('d-m-Y H:i:s')}} par {{ question.idUSer.nickName}} </p>
			{{ question.question }}
		</div>
		<div>

	{% for answer in question.answers %}
		<h5>Answers:</h5>
		<div class="answer" data-answerid="{{ answer.id }}">
			<img src="{{ answer.idUSer.avatar}} " height="50x" width="50px" loading="lazy">
			<p>Publié le: {{ answer.createdAt|date('d-m-Y H:i:s')}} par {{ answer.idUSer.nickName}} </p>
		{{ answer.answer }}
			<div class="js-vote-answer">
				<button class="badge bg-success js-vote-up" data-direction="up" data-id="{{ answer.id }}"> Mettre une icône de Like </button>
				<p class="total-vote">0</p>
				<button class="badge bg-danger js-vote-down" data-direction="down" data-id="{{ answer.id}}">Mettre une icône de dislike</button>
				<span class="js-vote-article-total"></span>
			</div>

		</div>

	{% endfor %}
		</div>
	{% endfor %}


{% endblock %} #}

{% block javascripts %}
	{{ parent() }}
	{# <script src="{{ asset('js/logVote.js') }}"></script> #}
	<script src="{{ asset('js/logVote.js') }}"></script>
{% endblock %}
